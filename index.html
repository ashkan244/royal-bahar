<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>برنامه کشیک پزشکان | گلستان و شفا</title>
    <style>
        /* ==========================================
           1. PREMIUM STYLES (Tailwind Aesthetic in Vanilla CSS)
           ========================================== */
        @import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.0.0/Vazirmatn-font-face.css');

        :root {
            --bg-body: #f8fafc;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --white-glass: rgba(255, 255, 255, 0.85);
            --border-light: #f1f5f9;
            
            /* Default Theme Variables (will be changed via JS) */
            --theme-color: #059669;
            --theme-bg: #ecfdf5;
            --theme-grad: linear-gradient(135deg, #10b981, #14b8a6);
            --theme-shadow: rgba(16, 185, 129, 0.3);
        }

        /* Theme Classes */
        .theme-infectious {
            --theme-color: #059669;
            --theme-bg: #ecfdf5;
            --theme-grad: linear-gradient(135deg, #10b981, #14b8a6);
            --theme-shadow: rgba(16, 185, 129, 0.3);
        }
        .theme-internal {
            --theme-color: #2563eb;
            --theme-bg: #eff6ff;
            --theme-grad: linear-gradient(135deg, #3b82f6, #6366f1);
            --theme-shadow: rgba(59, 130, 246, 0.3);
        }
        .theme-shafa {
            --theme-color: #9333ea;
            --theme-bg: #faf5ff;
            --theme-grad: linear-gradient(135deg, #a855f7, #d946ef);
            --theme-shadow: rgba(168, 85, 247, 0.3);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Vazirmatn', Tahoma, sans-serif;
            background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            color: var(--text-main);
            direction: rtl;
            min-height: 100vh;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* --- Glassmorphism Header --- */
        .app-header {
            background: var(--white-glass);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            padding: 1.5rem 2rem;
            border-radius: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border: 1px solid white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .header-left { display: flex; align-items: center; gap: 1.25rem; }
        
        .header-icon {
            background: linear-gradient(135deg, #2563eb, #6366f1);
            color: white;
            padding: 1rem;
            border-radius: 18px;
            box-shadow: 0 10px 15px -3px rgba(37, 99, 235, 0.3);
            display: flex; align-items: center; justify-content: center;
        }

        .header-title { font-size: 1.8rem; font-weight: 900; color: #0f172a; margin-bottom: 0.2rem; letter-spacing: -0.5px; }
        .header-subtitle { font-size: 1rem; color: var(--text-muted); font-weight: 500; }

        .header-badge {
            display: flex; align-items: center; gap: 0.5rem;
            background: rgba(99, 102, 241, 0.1); color: #4338ca;
            padding: 0.6rem 1.25rem; border-radius: 12px;
            font-weight: 800; font-size: 0.9rem;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        /* --- Interactive Tabs --- */
        .tabs-container {
            display: flex; flex-wrap: wrap; gap: 0.5rem;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(8px);
            padding: 0.5rem; border-radius: 20px;
            margin-bottom: 2.5rem; border: 1px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
        }

        .tab-btn {
            flex: 1; min-width: 200px;
            display: flex; justify-content: center; align-items: center; gap: 0.6rem;
            padding: 1rem; border-radius: 16px;
            font-weight: 800; font-size: 1.05rem;
            border: none; cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: transparent; color: var(--text-muted); font-family: inherit;
        }

        .tab-btn:hover:not(.active) {
            background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.05); color: #0f172a;
        }

        .tab-btn.active.infectious { background: linear-gradient(135deg, #10b981, #14b8a6); color: white; transform: scale(1.02); box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.3); }
        .tab-btn.active.internal { background: linear-gradient(135deg, #3b82f6, #6366f1); color: white; transform: scale(1.02); box-shadow: 0 10px 15px -3px rgba(59, 130, 246, 0.3); }
        .tab-btn.active.shafa { background: linear-gradient(135deg, #a855f7, #d946ef); color: white; transform: scale(1.02); box-shadow: 0 10px 15px -3px rgba(168, 85, 247, 0.3); }

        /* --- Stat Cards --- */
        .section-title {
            display: flex; align-items: center; gap: 0.5rem;
            margin-bottom: 1rem; color: var(--theme-color);
        }
        .section-title h2 { font-size: 1.25rem; font-weight: 900; color: #1e293b; }

        .stats-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1rem; margin-bottom: 2.5rem;
            animation: fadeIn 0.5s ease;
        }

        .stat-card {
            display: flex; justify-content: space-between; align-items: center;
            padding: 1.25rem; background: white;
            border-radius: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
            border: 1px solid var(--border-light);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px -5px var(--theme-shadow);
            border-color: var(--theme-bg);
        }

        .stat-left { display: flex; align-items: center; gap: 0.75rem; }
        .stat-icon-wrap {
            background: var(--theme-bg); color: var(--theme-color);
            padding: 0.6rem; border-radius: 14px;
            display: flex; align-items: center; justify-content: center;
        }
        .stat-name { font-weight: 900; font-size: 1.1rem; color: #334155; }

        .stat-right {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: #f8fafc; padding: 0.4rem 0.8rem;
            border-radius: 12px; border: 1px solid var(--border-light);
        }
        .stat-count { font-size: 1.5rem; font-weight: 900; line-height: 1; margin-bottom: 0.2rem; color: var(--theme-color); }
        .stat-label { font-size: 0.65rem; font-weight: 800; color: var(--text-muted); }

        /* --- Beautiful Table --- */
        .table-container {
            background: white; border-radius: 24px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
            border: 1px solid var(--border-light); overflow: hidden;
            animation: fadeIn 0.5s ease;
        }

        .table-header {
            padding: 1.25rem 1.5rem; background: var(--theme-bg);
            display: flex; align-items: center; gap: 0.75rem;
            border-bottom: 1px solid var(--border-light);
        }
        .table-header svg { color: var(--theme-color); }
        .table-header h3 { margin: 0; font-size: 1.2rem; font-weight: 900; color: #1e293b; }

        .table-responsive { overflow-x: auto; }
        .data-table { width: 100%; border-collapse: collapse; text-align: right; }
        
        .data-table th {
            padding: 1rem 1.5rem; background: rgba(248, 250, 252, 0.6);
            font-weight: 800; color: var(--text-muted); border-bottom: 1px solid var(--border-light);
            font-size: 0.95rem;
        }
        
        .data-table td {
            padding: 1rem 1.5rem; border-bottom: 1px solid #f8fafc;
            font-weight: 800; color: #334155; font-size: 1.05rem;
            transition: background 0.2s;
        }
        
        .data-table tr:hover td { background: #f8fafc; }

        .date-cell { display: flex; align-items: center; gap: 0.75rem; color: var(--text-muted); font-size: 0.95rem; }
        .date-badge {
            display: flex; justify-content: center; align-items: center;
            width: 2.5rem; height: 2.5rem; border-radius: 12px;
            background: var(--theme-bg); color: var(--theme-color);
            font-weight: 900; font-size: 1.1rem; transition: transform 0.3s;
        }
        .data-table tr:hover .date-badge { transform: scale(1.1); }

        .empty-cell { color: #cbd5e1; font-weight: normal; }
        
        .shift-header { display: flex; align-items: center; gap: 6px; }
        .th-morning { color: #ea580c !important; }
        .th-evening { color: #9333ea !important; }
        .th-night { color: #4f46e5 !important; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            .app-header { flex-direction: column; align-items: flex-start; gap: 1rem; }
            .tabs-container { flex-direction: column; }
            .data-table th, .data-table td { padding: 1rem; font-size: 0.95rem; }
        }
    </style>
</head>
<body>

    <!-- Main App Container (Controls Themes via Classes) -->
    <div class="container theme-infectious" id="app-container">
        
        <!-- Glassmorphism Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="header-icon">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
                </div>
                <div>
                    <h1 class="header-title">برنامه کشیک پزشکان</h1>
                    <p class="header-subtitle">اسفند ماه ۱۴۰۴ - بیمارستان‌های گلستان و شفا</p>
                </div>
            </div>
            <div class="header-badge">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2 M9 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8z M22 21v-2a4 4 0 0 0-3-3.87 M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                <span>گزارش جامع شیفت‌ها</span>
            </div>
        </header>

        <!-- Interactive Tabs -->
        <nav class="tabs-container">
            <button class="tab-btn infectious active" onclick="switchTab('infectious')" id="tab-infectious">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                بخش عفونی - گلستان
            </button>
            <button class="tab-btn internal" onclick="switchTab('internal')" id="tab-internal">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                بخش داخلی - گلستان
            </button>
            <button class="tab-btn shafa" onclick="switchTab('shafa')" id="tab-shafa">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 6v4 M14 14h-4 M14 18h-4 M14 8h-4 M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2 M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"></path></svg>
                بیمارستان شفا
            </button>
        </nav>

        <!-- Statistics Section -->
        <div class="section-title">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
            <h2>آمار کلی شیفت‌ها (اسفند ۱۴۰۴)</h2>
        </div>
        <div class="stats-grid" id="stats-container">
            <!-- Stats populated by JS -->
        </div>

        <!-- Table Section -->
        <div class="table-container">
            <div class="table-header">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
                <h3 id="table-title">برنامه روزانه</h3>
            </div>
            
            <div class="table-responsive">
                <table class="data-table">
                    <thead id="table-head">
                        <!-- Headers populated by JS -->
                    </thead>
                    <tbody id="table-body">
                        <!-- Rows populated by JS -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- ==========================================
         2. JAVASCRIPT LOGIC
         ========================================== -->
    <script>
        // --- 1. FINAL DATA ---
        const infectiousData = [
            { date: '1/12', doctor: 'دارابی' }, { date: '2/12', doctor: 'پوراحسانی' },
            { date: '3/12', doctor: 'پوراحسانی' }, { date: '4/12', doctor: 'آرزویی' },
            { date: '5/12', doctor: 'آرزویی' }, { date: '6/12', doctor: 'پوراحسانی' },
            { date: '7/12', doctor: 'شمی پور' }, { date: '8/12', doctor: 'شمی پور' },
            { date: '9/12', doctor: 'پوراحسانی' }, { date: '10/12', doctor: 'پوراحسانی' },
            { date: '11/12', doctor: 'دارابی' }, { date: '12/12', doctor: 'دارابی' },
            { date: '13/12', doctor: 'دارابی' }, { date: '14/12', doctor: 'رضوی' },
            { date: '15/12', doctor: 'دارابی' }, { date: '16/12', doctor: 'دارابی' },
            { date: '17/12', doctor: 'پوراحسانی' }, { date: '18/12', doctor: 'آرزویی' },
            { date: '19/12', doctor: 'آرزویی' }, { date: '20/12', doctor: 'پوراحسانی' },
            { date: '21/12', doctor: 'معارفی' }, { date: '22/12', doctor: 'معارفی' },
            { date: '23/12', doctor: 'پوراحسانی' }, { date: '24/12', doctor: 'پوراحسانی' },
            { date: '25/12', doctor: 'آرزویی' }, { date: '26/12', doctor: 'آرزویی' },
            { date: '27/12', doctor: 'پوراحسانی' }, { date: '28/12', doctor: 'معارفی' },
            { date: '29/12', doctor: 'شمی پور' }
        ];

        const internalData = [
            { date: '1/12', doctor: 'معارفی' }, { date: '2/12', doctor: 'حسن نژاد' },
            { date: '3/12', doctor: 'معارفی' }, { date: '4/12', doctor: 'شمی پور' },
            { date: '5/12', doctor: 'قلاوند' }, { date: '6/12', doctor: 'مظفری' },
            { date: '7/12', doctor: 'شمی پور' }, { date: '8/12', doctor: 'شمی پور' },
            { date: '9/12', doctor: 'مظفری' }, { date: '10/12', doctor: 'معارفی' },
            { date: '11/12', doctor: 'حسن نژاد' }, { date: '12/12', doctor: 'معارفی' },
            { date: '13/12', doctor: 'پورکاوه' }, { date: '14/12', doctor: 'شمی پور' },
            { date: '15/12', doctor: 'پورکاوه' }, { date: '16/12', doctor: 'شمی پور' },
            { date: '17/12', doctor: 'پورکاوه' }, { date: '18/12', doctor: 'قلاوند' },
            { date: '19/12', doctor: 'حسن نژاد' }, { date: '20/12', doctor: 'پورکاوه' },
            { date: '21/12', doctor: 'معارفی' }, { date: '22/12', doctor: 'معارفی' },
            { date: '23/12', doctor: 'شمی پور' }, { date: '24/12', doctor: 'حسن نژاد' },
            { date: '25/12', doctor: 'معارفی' }, { date: '26/12', doctor: 'معارفی' },
            { date: '27/12', doctor: 'شمی پور' }, { date: '28/12', doctor: 'معارفی' },
            { date: '29/12', doctor: 'شمی پور' }
        ];

        const shafaData = [
            { date: '1/12', morning: 'علی مرادی', evening: 'علی مرادی', night: '' },
            { date: '2/12', morning: '', evening: 'احمدی', night: 'امین دزفولی' },
            { date: '3/12', morning: '', evening: 'بالی زاده', night: 'بالی زاده' },
            { date: '4/12', morning: '', evening: 'احمدی', night: 'امین دزفولی' },
            { date: '5/12', morning: '', evening: 'بالی زاده', night: 'بالی زاده' },
            { date: '6/12', morning: '', evening: 'احمدی', night: 'امین دزفولی' },
            { date: '7/12', morning: 'آرزویی', evening: 'حسن نژاد', night: 'حسن نژاد' },
            { date: '8/12', morning: 'علی مرادی', evening: 'حسن نژاد', night: 'حسن نژاد' },
            { date: '9/12', morning: '', evening: 'عباسی', night: 'آرزویی' },
            { date: '10/12', morning: '', evening: 'شمی پور', night: 'شمی پور' },
            { date: '11/12', morning: '', evening: 'قلاوند', night: 'قلاوند' },
            { date: '12/12', morning: '', evening: 'مظفری', night: 'مظفری' },
            { date: '13/12', morning: '', evening: 'بالی زاده', night: 'بالی زاده' },
            { date: '14/12', morning: 'آرزویی', evening: 'مظفری', night: 'مظفری' },
            { date: '15/12', morning: 'براتی', evening: 'براتی', night: '' },
            { date: '16/12', morning: '', evening: 'آرزویی', night: 'آرزویی' },
            { date: '17/12', morning: 'آرزویی', evening: 'معصومی', night: 'معصومی' },
            { date: '18/12', morning: '', evening: '', night: 'امین دزفولی' },
            { date: '19/12', morning: '', evening: 'احمدی', night: 'امین دزفولی' },
            { date: '20/12', morning: 'عباسی', evening: 'احمدی', night: '' },
            { date: '21/12', morning: 'آرزویی', evening: 'عباسی', night: 'امین دزفولی' },
            { date: '22/12', morning: 'احمدی', evening: 'احمدی', night: '' },
            { date: '23/12', morning: '', evening: 'احمدی', night: 'امین دزفولی' },
            { date: '24/12', morning: '', evening: 'حسن نژاد', night: 'حسن نژاد' },
            { date: '25/12', morning: '', evening: 'احمدی', night: 'امین دزفولی' },
            { date: '26/12', morning: '', evening: 'قلاوند', night: 'قلاوند' },
            { date: '27/12', morning: '', evening: 'احمدی', night: 'امین دزفولی' },
            { date: '28/12', morning: 'آرزویی', evening: 'شمی پور', night: '' },
            { date: '29/12', morning: 'امین دزفولی', evening: 'امین دزفولی', night: '' }
        ];

        // --- 2. SVG ICONS ---
        const userIcon = `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>`;
        const sunIcon = `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2 M12 20v2 M4.93 4.93l1.41 1.41 M17.66 17.66l1.41 1.41 M2 12h2 M20 12h2 M6.34 17.66l-1.41 1.41 M19.07 4.93l-1.41 1.41"/></svg>`;
        const sunsetIcon = `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 10V2 M4.93 10.93l1.41 1.41 M2 18h2 M20 18h2 M19.07 10.93l-1.41 1.41 M22 22H2 M16 6l-4-4-4 4 M16 18a4 4 0 0 0-8 0"/></svg>`;
        const moonIcon = `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>`;

        // --- 3. CORE LOGIC ---
        function calculateStats(data, isShafa) {
            const stats = {};
            if (!isShafa) {
                data.forEach(item => {
                    if (item.doctor && item.doctor !== '---') {
                        stats[item.doctor] = (stats[item.doctor] || 0) + 1;
                    }
                });
            } else {
                data.forEach(item => {
                    ['morning', 'evening', 'night'].forEach(shift => {
                        const doc = item[shift];
                        if (doc && doc.trim() !== '' && doc !== '---') {
                            stats[doc] = (stats[doc] || 0) + 1;
                        }
                    });
                });
            }
            return Object.entries(stats).sort((a, b) => b[1] - a[1]);
        }

        function renderStats(stats) {
            const container = document.getElementById('stats-container');
            container.innerHTML = '';
            stats.forEach(([doctor, count]) => {
                container.innerHTML += `
                    <div class="stat-card">
                        <div class="stat-left">
                            <div class="stat-icon-wrap">${userIcon}</div>
                            <span class="stat-name">${doctor}</span>
                        </div>
                        <div class="stat-right">
                            <span class="stat-count">${count}</span>
                            <span class="stat-label">شیفت</span>
                        </div>
                    </div>
                `;
            });
        }

        function renderTable(data, tabId) {
            const tableHead = document.getElementById('table-head');
            const tableBody = document.getElementById('table-body');
            const title = document.getElementById('table-title');

            if (tabId === 'shafa') {
                title.innerText = 'لیست کشیک بیمارستان شفا (صبح، عصر، شب)';
                tableHead.innerHTML = `
                    <tr>
                        <th style="width: 25%">تاریخ</th>
                        <th class="th-morning"><div class="shift-header">${sunIcon} صبح</div></th>
                        <th class="th-evening"><div class="shift-header">${sunsetIcon} عصر</div></th>
                        <th class="th-night"><div class="shift-header">${moonIcon} شب</div></th>
                    </tr>
                `;
                tableBody.innerHTML = data.map(row => `
                    <tr>
                        <td>
                            <div class="date-cell">
                                <div class="date-badge">${row.date.split('/')[0]}</div>
                                <span>اسفند</span>
                            </div>
                        </td>
                        <td>${row.morning ? row.morning : '<span class="empty-cell">--</span>'}</td>
                        <td>${row.evening ? row.evening : '<span class="empty-cell">--</span>'}</td>
                        <td>${row.night ? row.night : '<span class="empty-cell">--</span>'}</td>
                    </tr>
                `).join('');
            } else {
                title.innerText = tabId === 'infectious' ? 'لیست کشیک روزانه بخش عفونی' : 'لیست کشیک روزانه بخش داخلی';
                tableHead.innerHTML = `
                    <tr>
                        <th style="width: 35%">تاریخ</th>
                        <th>نام پزشک کشیک</th>
                    </tr>
                `;
                tableBody.innerHTML = data.map(row => `
                    <tr>
                        <td>
                            <div class="date-cell">
                                <div class="date-badge">${row.date.split('/')[0]}</div>
                                <span>اسفند</span>
                            </div>
                        </td>
                        <td>${row.doctor}</td>
                    </tr>
                `).join('');
            }
        }

        function switchTab(tabId) {
            // Update active state of buttons
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`tab-${tabId}`).classList.add('active');

            // Change theme by switching classes on main container
            const container = document.getElementById('app-container');
            container.className = `container theme-${tabId}`;

            // Get Data
            let data = [];
            let isShafa = false;

            if (tabId === 'infectious') {
                data = infectiousData;
            } else if (tabId === 'internal') {
                data = internalData;
            } else if (tabId === 'shafa') {
                data = shafaData;
                isShafa = true;
            }

            // Render UI
            const stats = calculateStats(data, isShafa);
            renderStats(stats);
            renderTable(data, tabId);
        }

        // Initialize App on load
        window.onload = () => {
            switchTab('infectious');
        };
    </script>
</body>
</html>
